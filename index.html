<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>2014 World Hardcourt Bike Polo Championship - Montpellier</title>
    <link rel="stylesheet" href="bower_components/semantic/build/packaged/css/semantic.min.css"/>
    <link rel="fonts" href="bower_components/semantic/build/packaged/fonts/icons.otf"/>
    <script type="application/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
    <script type="application/javascript"
            src="bower_components/semantic/build/packaged/javascript/semantic.min.js"></script>
</head>
<body>
<h1 class="ui header">2014 World Hardcourt Bike Polo Championship - Montpellier</h1>
<nav></nav>
<div id="content"></div>

<!--
    <div class="ui large vertical menu">
        <div class="item">
            <a class="item active"><b>Tournament</b></a>
            <div class="menu">
                <a class="item">Registrations</a>
                <a class="item">Referees</a>
                <a class="item">Volunteers</a>
                <a class="item">Informations</a>
                <a class="item">Schedule</a>
            </div>
        </div>
        <a class="item"><b>Accomodations</b></a>
        <div class="item">
            <a class="item"><b>Live Streaming</b></a>
            <div class="menu">
                <a class="item">About</a>
                <a class="item">Crowd Funding</a>
            </div>
        </div>
        <a class="item">
            <b>News</b>
        </a>
    </div>
</nav>

-->

<script>
    var lang = 'fr';
    var countries = [];

    $(window).on('hashchange', function () {
        var path = window.location.hash.substring(1);
        loadContent(path);
    });

    $('nav').load(lang + '/menu.html');

    function loadContent(path) {
        $('#content').load(lang + path + '.html', function(){
            if($('select.country').length){
                renderCountries();
            }
        });
    }

    function renderCountries(){
        if(countries.length === 0){
            $.getJSON(lang + '/countries.json', function (data) {
                countries.length = 0;
                $.each(data, function (code, name) {
                    countries.push($('<option></option>').attr('value', code).text(name));
                });
                renderCountries();
            });
        }
        $('select.country').append(countries);
    }

    if (window.location.hash) {
        loadContent(window.location.hash.substring(1));
    }



</script>
</body>
</html>